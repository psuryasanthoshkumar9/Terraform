image: hashicorp/terraform:latest

# THIS IS THE FIX ğŸ‘‡
default:
  entrypoint: [""]

stages:
  - fmt
  - validate

terraform_fmt:
  stage: fmt
  script:
    - cd Day-1-basic-code
    - terraform fmt -check

terraform_validate:
  stage: validate
  script:
    - cd Day-1-basic-code
    - terraform init -input=false
    - terraform validate
